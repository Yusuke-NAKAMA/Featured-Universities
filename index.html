<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>University Cards</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&display=swap" rel="stylesheet">
<style>
  :root { --gap: 20px; }
  * { box-sizing: border-box; margin: 0; padding: 0; }
  body { font-family: 'Orbitron', sans-serif; background: #fff; }

  /* 埋め込み幅いっぱいにフィット */
  .cards-wrap {
    width: 100%;
    margin: 0;
    background: #fff;
  }

  /* PC：5枚を等幅でぴったり収める（はみ出し防止） */
  .cards-container {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: var(--gap);
    width: 100%;
    padding: 0; /* 左右の余白が原因で切れないようゼロに */
    overflow: hidden; /* はみ出し防止 */
  }

  .card {
    position: relative;
    width: 100%;
    border-radius: 12px;
    overflow: hidden;
    /* PCでは幅優先で縮むため min-width は付けない */
    box-shadow: 0 6px 20px rgba(0,0,0,0.2);
    background: #000;
    cursor: pointer;
  }

  .card img {
    width: 100%;
    height: 220px;
    object-fit: cover;
    display: block;
  }

  .card-text {
    position: absolute;
    bottom: 20px;
    left: 10px;
    color: #fff;
    text-shadow: 0 3px 6px rgba(0,0,0,0.8);
  }

  .card-text h2 {
    font-size: 1.2rem;
    margin-bottom: 6px;
  }

  .card-text p {
    font-size: 0.7rem;
  }

  /* --- スマホ版（768px以下）--- */
  @media (max-width: 768px) {
    .cards-container {
      display: flex;                 /* 横並びに切り替え */
      overflow-x: auto;              /* 横スクロール（スワイプ） */
      scroll-snap-type: x mandatory; /* スナップ */
      -webkit-overflow-scrolling: touch;
      gap: 0;                        /* 余白はスナップに不要 */
    }

    .card {
      flex: 0 0 100%;                /* 1画面に1枚ぴったり */
      height: 100vh;                 /* 画面いっぱいの高さ */
      border-radius: 0;
      box-shadow: none;
      scroll-snap-align: center;
    }

    .card img {
      height: 100%;
      object-fit: cover;
    }

    /* 5等分インジケーターバー（スマホのみ表示） */
    .indicator {
      position: fixed;
      bottom: 10px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 4px;
      z-index: 10;
    }
    .indicator div {
      width: 30px;
      height: 4px;
      background: #ccc;
      border-radius: 2px;
    }
    .indicator div.active {
      background: #333;
    }
  }

  /* PCではインジケータ非表示 */
  .indicator { display: none; }
</style>
</head>
<body>

<div class="cards-wrap">
  <div class="cards-container" id="cards"></div>
  <div class="indicator" id="indicator"></div>
</div>

<script>
const universities = [
  {name: "復旦大学", catchcopy: "復旦にある大学", img: "https://yusuke-nakama.github.io/University-Search/Fudan.jpg", url: "https://sites.google.com/d/1y-I5vzS-IWcsZhrteldpAZpXKZePR3IX/p/14yBymdJDQlPmr5GX2RPGnQIagzfpSLXY/edit"},
  {name: "南京大学", catchcopy: "南京にある大学", img: "https://yusuke-nakama.github.io/University-Search/Nanjing.jpg", url: "https://sites.google.com/d/1y-I5vzS-IWcsZhrteldpAZpXKZePR3IX/p/14yBymdJDQlPmr5GX2RPGnQIagzfpSLXY/edit"},
  {name: "香港大学", catchcopy: "香港トップの総合大学", img: "https://yusuke-nakama.github.io/University-Search/HKU.jpg", url: "https://sites.google.com/d/1y-I5vzS-IWcsZhrteldpAZpXKZePR3IX/p/14yBymdJDQlPmr5GX2RPGnQIagzfpSLXY/edit"},
  {name: "高麗大学校",catchcopy: "韓国の大学",img: "https://yusuke-nakama.github.io/University-Search/Korea.jpg", url: "https://sites.google.com/d/1y-I5vzS-IWcsZhrteldpAZpXKZePR3IX/p/14yBymdJDQlPmr5GX2RPGnQIagzfpSLXY/edit"},
  {name: "ソウル大学校", catchcopy: "ソウルにある大学", img: "https://yusuke-nakama.github.io/University-Search/SNU.jpg", url: "https://sites.google.com/d/1y-I5vzS-IWcsZhrteldpAZpXKZePR3IX/p/14yBymdJDQlPmr5GX2RPGnQIagzfpSLXY/edit"},
  {name: "浦項工科大学校",catchcopy: "浦項にある大学", img: "https://yusuke-nakama.github.io/University-Search/POSTECH.jpg", url: "https://sites.google.com/d/1y-I5vzS-IWcsZhrteldpAZpXKZePR3IX/p/14yBymdJDQlPmr5GX2RPGnQIagzfpSLXY/edit"},
  {name: "スウァスモアカレッジ", catchcopy: "フィラデルフィアの大学", img: "https://yusuke-nakama.github.io/University-Search/Swarthmore.jpeg", url: "#"},
  {name: "アデレード大学", catchcopy: "アデレードの大学",img: "https://yusuke-nakama.github.io/University-Search/Adelaide.png", url: "#"},
  {name: "パリ政治学院", catchcopy: "パリの大学",img: "https://yusuke-nakama.github.io/University-Search/SC.jpeg", url: "#"},
  {name: "ライデン大学", catchcopy: "ライデンの大学", img: "https://yusuke-nakama.github.io/University-Search/Leiden.png", url: "#"},
  {name: "ルンド大学", catchcopy: "ルンドの大学", img: "https://yusuke-nakama.github.io/University-Search/Lund.jpg", url: "#"},
  {name: "ダラム大学", catchcopy: "ダラムの大学", img: "https://yusuke-nakama.github.io/University-Search/Durham.jpg", url: "#"}
  {name: "モナシュ大学", catchcopy: "モナシュの大学", img: "https://yusuke-nakama.github.io/University-Search/monash.jpg", url: "#"}
];

/* Fisher–Yates でしっかりランダム */
function shuffle(arr){
  const a = arr.slice();
  for(let i=a.length-1;i>0;i--){
    const j = Math.floor(Math.random()*(i+1));
    [a[i],a[j]] = [a[j],a[i]];
  }
  return a;
}

/* ランダムに5件取得（元配列が5未満ならそのまま） */
const picked = shuffle(universities).slice(0, 5);

const container = document.getElementById('cards');
picked.forEach(u => {
  const card = document.createElement('div');
  card.className = 'card';
  const copy = u.catchcopy ?? u['catch copy'] ?? '';
  card.innerHTML = `
    <a href="${u.url}" target="_blank" rel="noopener">
      <img src="${u.img}" alt="${u.name}">
      <div class="card-text">
        <h2>${u.name}</h2>
        <p>${copy}</p>
      </div>
    </a>`;
  container.appendChild(card);
});

/* スマホ：インジケータ（5等分バー） */
const indicator = document.getElementById('indicator');
if (window.matchMedia('(max-width: 768px)').matches && indicator) {
  picked.forEach((_, i) => {
    const seg = document.createElement('div');
    if (i === 0) seg.classList.add('active');
    indicator.appendChild(seg);
  });

  const segs = indicator.querySelectorAll('div');
  container.addEventListener('scroll', () => {
    const index = Math.round(container.scrollLeft / container.clientWidth);
    segs.forEach((s, i) => s.classList.toggle('active', i === index));
  }, { passive: true });
}
</script>

</body>
</html>
